<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel do Usu치rio | StoryWorld</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<!-- NAVBAR -->
<nav class="navbar">
  <a href="index.html" class="logo">StoryWorld</a>

  <ul class="nav-links">
    <li><a href="catalog.html">Cat치logo</a></li>
    <li><a href="writer.html">Escrever</a></li>
    <li><a href="search.html">Buscar</a></li>
  </ul>

  <div id="nav-account"></div>
</nav>

<!-- CONTAINER DO MENU E CONTE칔DO -->
<div class="profile-layout">
    <!-- MENU LATERAL -->
    <aside class="profile-sidebar">
        <div class="sidebar-header">
            <img id="nav-profile-pic" src="https://via.placeholder.com/80" alt="Foto">
            <h3 id="nav-username">Usu치rio</h3>
        </div>
        <ul>
            <li><a href="perfil.html">游녻 Meu Perfil</a></li>
            <li><a href="#">游닄 Minhas Hist칩rias</a></li>
            <li><a href="#">仇벒잺 Favoritos</a></li>
            <li><a href="#">丘뙖잺 Configura칞칫es</a></li>
            <li><a href="#" onclick="logoutUser()">游뛁 Sair</a></li>
        </ul>
    </aside>

    <!-- 츼REA DE CONTE칔DO -->
    <main class="profile-content">
        <h2>Bem-vindo ao seu painel!</h2>
        <p>Escolha uma op칞칚o no menu ao lado para gerenciar sua conta.</p>
    </main>
</div>

<script src="auth.js"></script>
<script>
document.addEventListener("DOMContentLoaded", () => {
    const user = JSON.parse(localStorage.getItem("sw_user"));
    if (!user) {
        window.location.href = "login.html";
        return;
    }

    document.getElementById("nav-username").textContent = user.username;
    if (user.photo) {
        document.getElementById("nav-profile-pic").src = user.photo;
    }
});

function logoutUser() {
    localStorage.removeItem("sw_user");
    window.location.href = "index.html";
}
</script>

</body>
</html>
